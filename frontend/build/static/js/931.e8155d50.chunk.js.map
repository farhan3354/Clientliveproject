{"version":3,"file":"static/js/931.e8155d50.chunk.js","mappings":"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","sources":["component/adminPanel/siteController.js"],"sourcesContent":["import React from \"react\";\nimport ContentLoaderCompo from \"../contentloader\";\nimport GetLink from \"../apiLink\";\nimport { ToastContainer, toast } from \"react-toastify\";\nclass SiteController extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      sites: [],\n      newSite: \"\",\n      currentPage: 1,\n      itemsPerPage: 10,\n      editedSiteId: null,\n      editedPromotionLink: \"\",\n      loading: true,\n    };\n  }\n\n  componentDidMount() {\n    this.fetchSites();\n  }\n\n  fetchSites() {\n    fetch(GetLink() + \"/programs\")\n      .then((response) => response.json())\n      .then((sites) => {\n        this.setState({ sites, loading: false });\n      })\n      .catch((error) => console.error(\"Error fetching sites:\", error));\n  }\n\n  handleEditPromotionLink = (siteId, promotionLink) => {\n    this.setState({ editedSiteId: siteId, editedPromotionLink: promotionLink });\n  };\n\n  handleSavePromotionLink = (siteId) => {\n    const { editedPromotionLink } = this.state;\n    console.log(siteId);\n    if (editedPromotionLink) {\n      fetch(`${GetLink()}/editPromotion/${siteId}`, {\n        method: \"PUT\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify({ promotionLink: editedPromotionLink }),\n      })\n        .then((response) => response.json())\n        .then((data) => {\n          this.setState({\n            editedSiteId: null,\n            editedPromotionLink: \"\",\n          });\n          toast.success(data.message);\n        })\n        .catch((error) =>\n          console.error(\"Error updating promotion link:\", error)\n        );\n    }\n  };\n\n  handleCancelEdit = () => {\n    this.setState({ editedSiteId: null, editedPromotionLink: \"\" });\n  };\n  handlePromotionLinkChange = (event) => {\n    this.setState({ editedPromotionLink: event.target.value });\n  };\n\n  handlePageChange = (pageNumber) => {\n    this.setState({ currentPage: pageNumber });\n  };\n\n  render() {\n    const {\n      sites,\n      currentPage,\n      itemsPerPage,\n      editedSiteId,\n      editedPromotionLink,\n      loading,\n    } = this.state;\n\n    const indexOfLastItem = currentPage * itemsPerPage;\n    const indexOfFirstItem = indexOfLastItem - itemsPerPage;\n    const currentItems = sites.slice(indexOfFirstItem, indexOfLastItem);\n\n    const siteRows = currentItems.map((site, index) => (\n      <tr key={index}>\n        <td>{site.name}</td>\n        <td>\n          {site.programId === editedSiteId ? (\n            <input\n              style={{ borderRadius: \"5px\", width: \"400px\" }}\n              type=\"text\"\n              value={editedPromotionLink}\n              onChange={this.handlePromotionLinkChange}\n            />\n          ) : (\n            site.promotionLink\n          )}\n        </td>\n        <td>\n          {site.programId === editedSiteId ? (\n            <>\n              <button\n                className=\"add-button1\"\n                onClick={() => this.handleSavePromotionLink(site.programId)}\n              >\n                Save\n              </button>\n              <button onClick={this.handleCancelEdit}>Cancel</button>\n            </>\n          ) : (\n            <>\n              {!site.promotionLink && (\n                <button\n                  className=\"add-button1\"\n                  onClick={() =>\n                    this.handleEditPromotionLink(\n                      site.programId,\n                      site.promotionLink\n                    )\n                  }\n                >\n                  Add\n                </button>\n              )}\n              {site.promotionLink && (\n                <button\n                  className=\"add-button1\"\n                  onClick={() =>\n                    this.handleEditPromotionLink(\n                      site.programId,\n                      site.promotionLink\n                    )\n                  }\n                >\n                  Edit\n                </button>\n              )}\n            </>\n          )}\n        </td>\n      </tr>\n    ));\n\n    const totalPages = Math.ceil(sites.length / itemsPerPage);\n    const pageNumbers = Array.from({ length: totalPages }, (_, i) => i + 1);\n\n    return (\n      <div className=\"main-content\">\n        {loading && <ContentLoaderCompo></ContentLoaderCompo>}\n        <ToastContainer></ToastContainer>\n        <section className=\"section\">\n          <div className=\"section-body\">\n            <div className=\"row\">\n              <div className=\"col-12\">\n                <div className=\"card\">\n                  <div className=\"card-header\">\n                    <h4>Promotion Site</h4>\n                  </div>\n                  <div className=\"card-body\">\n                    <div className=\"table-responsive\">\n                      <table\n                        className=\"table table-striped dataTable no-footer\"\n                        style={{ textAlign: \"initial\" }}\n                      >\n                        <thead>\n                          <tr>\n                            <th>Prorgram Name</th>\n                            <th>Promotion Site Link</th>\n                            <th>Actions</th>\n                          </tr>\n                        </thead>\n                        <tbody>{siteRows}</tbody>\n                      </table>\n                    </div>\n                  </div>\n                  <div className=\"card-footer\">\n                    <div className=\"pagination justify-content-center\">\n                      <ul className=\"pagination\">\n                        <li\n                          className={`page-item ${\n                            currentPage === 1 ? \"disabled\" : \"\"\n                          }`}\n                        >\n                          <button\n                            className=\"page-link\"\n                            onClick={() =>\n                              this.handlePageChange(currentPage - 1)\n                            }\n                          >\n                            Previous\n                          </button>\n                        </li>\n                        {pageNumbers.map((pageNumber) => (\n                          <li\n                            key={pageNumber}\n                            className={`page-item ${\n                              currentPage === pageNumber ? \"active\" : \"\"\n                            }`}\n                          >\n                            <button\n                              className=\"page-link\"\n                              onClick={() => this.handlePageChange(pageNumber)}\n                            >\n                              {pageNumber}\n                            </button>\n                          </li>\n                        ))}\n                        <li\n                          className={`page-item ${\n                            currentPage === totalPages ? \"disabled\" : \"\"\n                          }`}\n                        >\n                          <button\n                            className=\"page-link\"\n                            onClick={() =>\n                              this.handlePageChange(currentPage + 1)\n                            }\n                          >\n                            Next\n                          </button>\n                        </li>\n                      </ul>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </section>\n      </div>\n    );\n  }\n}\n\nexport default SiteController;\n"],"names":["SiteController","_React$Component","_inherits","_super","_createSuper","props","_this","_classCallCheck","call","handleEditPromotionLink","siteId","promotionLink","setState","editedSiteId","editedPromotionLink","handleSavePromotionLink","state","console","log","fetch","concat","GetLink","method","headers","body","JSON","stringify","then","response","json","data","toast","success","message","catch","error","handleCancelEdit","handlePromotionLinkChange","event","target","value","handlePageChange","pageNumber","currentPage","sites","newSite","itemsPerPage","loading","_createClass","key","this","fetchSites","_this2","_this3","_this$state","indexOfLastItem","indexOfFirstItem","siteRows","slice","map","site","index","_jsxs","children","_jsx","name","programId","style","borderRadius","width","type","onChange","_Fragment","className","onClick","totalPages","Math","ceil","length","pageNumbers","Array","from","_","i","ContentLoaderCompo","ToastContainer","textAlign","React"],"sourceRoot":""}