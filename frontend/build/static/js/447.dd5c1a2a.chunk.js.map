{"version":3,"file":"static/js/447.dd5c1a2a.chunk.js","mappings":"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","sources":["component/signup.js"],"sourcesContent":["import React from \"react\";\nimport { useState } from \"react\";\nimport { useNavigate, Link } from \"react-router-dom\";\nimport { ToastContainer, toast } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport axios from \"axios\";\nimport GetLink from \"./apiLink\";\nfunction RegisterForm({ onLogin }) {\n  // Function to check the user's session and role\n  const navigate = useNavigate();\n  const [loadingSignup, setLoadingSignup] = useState(false);\n  const checkSession = () => {\n    axios\n      .get(GetLink() + \"/api/check-session\", {\n        withCredentials: true, // Include credentials in the request\n      })\n      .then((response) => {\n        const data = response.data;\n        if (data.isLoggedIn) {\n          if (data.role === \"admin\") navigate(\"/admindashboard\");\n          else if (data.role === \"mba\") navigate(`/mba`);\n        }\n      })\n      .catch((error) => {\n        console.error(\"Error:\", error);\n      });\n  };\n  checkSession();\n\n  const [formData, setFormData] = useState({\n    first_name: \"\",\n    last_name: \"\",\n    email: \"\",\n    password: \"\",\n    passwordConfirm: \"\",\n    agree: false,\n  });\n\n  const handleChange = (e) => {\n    const { name, value, type, checked } = e.target;\n    setFormData((prevState) => ({\n      ...prevState,\n      [name]: type === \"checkbox\" ? checked : value,\n    }));\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    setLoadingSignup(true);\n    if (formData.password !== formData.passwordConfirm) {\n      toast(\"Password-Confirm password are not same\", {\n        position: \"top-right\", // Position of the notification\n        autoClose: 5000, // Time in milliseconds before the notification automatically closes\n        hideProgressBar: false, // Whether to display a progress bar\n        closeOnClick: true, // Whether to close the notification when clicked\n        pauseOnHover: true, // Whether to pause the autoClose timer when hovered\n        draggable: true, // Whether the notification can be dragged\n        className: \"color_red\",\n      });\n      setLoadingSignup(false);\n      return;\n    }\n\n    // Send the form data to the server\n    fetch(GetLink() + \"/register/register\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify(formData),\n    })\n      .then((response) => response.json())\n      .then((data) => {\n        console.log(data);\n        if (data.message && data.message === \"Email already exists.\") {\n          toast(\"Email already exists! Try Signing in\", {\n            position: \"top-right\", // Position of the notification\n            autoClose: 5000, // Time in milliseconds before the notification automatically closes\n            hideProgressBar: false, // Whether to display a progress bar\n            closeOnClick: true, // Whether to close the notification when clicked\n            pauseOnHover: true, // Whether to pause the autoClose timer when hovered\n            draggable: true, // Whether the notification can be dragged\n            className: \"color_red\",\n          });\n          setLoadingSignup(false);\n          return;\n        }\n        // Handle the response from the server\n        if (data.role === \"admin\") {\n          onLogin();\n          localStorage.setItem(\"isLoggedIn\", \"true\");\n          localStorage.setItem(\"isAdmin\", \"true\");\n          localStorage.setItem(\"adminId\", data._id);\n          navigate(\"/admindashboard\");\n        } else if (data.role === \"mba\") {\n          onLogin();\n          localStorage.setItem(\"isLoggedIn\", \"true\");\n          navigate(`/mba`);\n        }\n        setLoadingSignup(false);\n      })\n      .catch((error) => {\n        setLoadingSignup(false);\n        console.error(\"Error:\", error);\n      });\n  };\n\n  return (\n    <div id=\"app\">\n      <ToastContainer />\n      <section className=\"section\">\n        <div className=\"container mt-5\">\n          <div className=\"row\">\n            <div className=\"col-12 col-sm-10 offset-sm-1 col-md-8 offset-md-2 col-lg-8 offset-lg-2 col-xl-8 offset-xl-2\">\n              <div className=\"card card-primary\">\n                <div className=\"card-header\">\n                  <h4>Register</h4>\n                </div>\n                <div className=\"card-body\">\n                  <form onSubmit={handleSubmit}>\n                    <div className=\"row\">\n                      <div className=\"form-group col-6\">\n                        <label htmlFor=\"first_name\">First Name</label>\n                        <input\n                          id=\"first_name\"\n                          type=\"text\"\n                          className=\"form-control\"\n                          name=\"first_name\"\n                          autoFocus\n                          onChange={handleChange}\n                          value={formData.first_name}\n                        />\n                      </div>\n                      <div className=\"form-group col-6\">\n                        <label htmlFor=\"last_name\">Last Name</label>\n                        <input\n                          id=\"last_name\"\n                          type=\"text\"\n                          className=\"form-control\"\n                          name=\"last_name\"\n                          onChange={handleChange}\n                          value={formData.last_name}\n                        />\n                      </div>\n                    </div>\n                    <div className=\"form-group\">\n                      <label htmlFor=\"email\">Email</label>\n                      <input\n                        id=\"email\"\n                        type=\"email\"\n                        className=\"form-control\"\n                        name=\"email\"\n                        onChange={handleChange}\n                        value={formData.email}\n                      />\n                      <div className=\"invalid-feedback\"></div>\n                    </div>\n                    <div className=\"row\">\n                      <div className=\"form-group col-6\">\n                        <label htmlFor=\"password\" className=\"d-block\">\n                          Password\n                        </label>\n                        <input\n                          id=\"password\"\n                          type=\"password\"\n                          className=\"form-control pwstrength\"\n                          data-indicator=\"pwindicator\"\n                          name=\"password\"\n                          onChange={handleChange}\n                          value={formData.password}\n                        />\n                        <div id=\"pwindicator\" className=\"pwindicator\">\n                          <div className=\"bar\"></div>\n                          <div className=\"label\"></div>\n                        </div>\n                      </div>\n                      <div className=\"form-group col-6\">\n                        <label htmlFor=\"password2\" className=\"d-block\">\n                          Password Confirmation\n                        </label>\n                        <input\n                          id=\"password2\"\n                          type=\"password\"\n                          className=\"form-control\"\n                          name=\"passwordConfirm\"\n                          onChange={handleChange}\n                          value={formData.passwordConfirm}\n                        />\n                      </div>\n                    </div>\n\n                    <div className=\"form-group\">\n                      <button\n                        type=\"submit\"\n                        className=\"btn btn-primary btn-lg btn-block\"\n                        disabled={loadingSignup}\n                      >\n                        Register\n                      </button>\n                    </div>\n                  </form>\n                </div>\n                <div className=\"mb-4 text-muted text-center\">\n                  Already Registered? <Link to=\"/signin\">Login</Link>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </section>\n    </div>\n  );\n}\nexport default RegisterForm;\n"],"names":["_ref","onLogin","navigate","useNavigate","_useState","useState","_useState2","_slicedToArray","loadingSignup","setLoadingSignup","axios","get","GetLink","withCredentials","then","response","data","isLoggedIn","role","catch","error","console","_useState3","first_name","last_name","email","password","passwordConfirm","agree","_useState4","formData","setFormData","handleChange","e","_e$target","target","name","value","type","checked","prevState","_objectSpread","_defineProperty","_jsxs","id","children","_jsx","ToastContainer","className","onSubmit","preventDefault","toast","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","fetch","method","headers","body","JSON","stringify","json","log","message","localStorage","setItem","_id","htmlFor","autoFocus","onChange","disabled","Link","to"],"sourceRoot":""}