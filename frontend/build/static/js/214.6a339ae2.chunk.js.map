{"version":3,"file":"static/js/214.6a339ae2.chunk.js","mappings":"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","sources":["component/adminPanel/addProgram.js"],"sourcesContent":["import React from \"react\";\nimport { ToastContainer, toast } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport GetLink from \"../apiLink\";\nclass AddProgram extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      notification: null,\n      images: \"\",\n      imageFile: null,\n      btnloading: false,\n    };\n  }\n\n  showNotification = (message, type) => {\n    this.setState({ notification: { message, type } });\n    setTimeout(() => {\n      this.setState({ notification: null });\n    }, 3000); // Hide the notification after 3 seconds\n  };\n\n  resetFields = () => {\n    document.getElementById(\"add-program-form\").reset();\n  };\n\n  handleSubmit = (event) => {\n    event.preventDefault();\n    this.setState({ btnloading: true });\n    console.log(\"here\");\n    // return;\n    if (this.state.imageFile === null) {\n      toast(\"Please add an image !\", {\n        position: \"top-right\", // Position of the notification\n        autoClose: 5000, // Time in milliseconds before the notification automatically closes\n        hideProgressBar: false, // Whether to display a progress bar\n        closeOnClick: true, // Whether to close the notification when clicked\n        pauseOnHover: true, // Whether to pause the autoClose timer when hovered\n        draggable: true, // Whether the notification can be dragged\n        className: \"color_green\",\n      });\n      this.setState({ btnloading: false });\n      return;\n    }\n\n    // Get form data\n    const name = event.target.elements.name.value;\n    const points = event.target.elements.points.value;\n    const description = event.target.elements.description.value;\n    const promotionLink = event.target.elements.promotionLink.value;\n\n    const formData = new FormData();\n    formData.append(\"name\", name);\n    formData.append(\"points\", points);\n    formData.append(\"description\", description);\n    formData.append(\"images\", this.state.imageFile);\n    formData.append(\"promotionLink\", promotionLink);\n    console.log(formData);\n    console.log(this.state.imageFile);\n    // return;\n\n    // Send the payload to the server to add the program and upload images\n    fetch(GetLink() + \"/addprogram\", {\n      method: \"POST\",\n      body: formData,\n      // body: JSON.stringify(payload),\n    })\n      .then((response) => response.json())\n      .then((data) => {\n        if (data.message) {\n          this.resetFields(); // Reset the form fields\n          toast(\"Program Added!\", {\n            position: \"top-right\", // Position of the notification\n            autoClose: 5000, // Time in milliseconds before the notification automatically closes\n            hideProgressBar: false, // Whether to display a progress bar\n            closeOnClick: true, // Whether to close the notification when clicked\n            pauseOnHover: true, // Whether to pause the autoClose timer when hovered\n            draggable: true, // Whether the notification can be dragged\n            className: \"color_green\",\n          });\n\n          this.setState({ btnloading: false });\n\n          setTimeout(() => {\n            this.props.setCurrclickFunc(\"manageProgram\");\n          }, 2000);\n        }\n        if (data.error) {\n          this.setState({ btnloading: false });\n          this.showNotification(data.error, \"error\");\n        }\n      })\n      .catch((error) => {\n        this.setState({ btnloading: false });\n        console.error(error);\n        // Handle the error here\n      });\n  };\n\n  handleImagePreview = (event, imageNumber) => {\n    const reader = new FileReader();\n    const file = event.target.files[0];\n    this.setState((prevState) => {\n      return { imageFile: file };\n    });\n    reader.onloadend = () => {\n      const imagePreview = reader.result;\n\n      this.setState((prevState) => {\n        // Create a new images array by updating the specific imagePreview\n        const newImages = imagePreview; // Store the actual file in the images array\n\n        return { images: newImages };\n      });\n    };\n\n    if (file) {\n      reader.readAsDataURL(file);\n    }\n  };\n\n  render() {\n    return (\n      <div className=\"main-content\">\n        <ToastContainer />\n        <section className=\"section\">\n          <div className=\"card\">\n            <div className=\"card-body\">\n              <div className=\"col-lg-12\">\n                <form\n                  onSubmit={this.handleSubmit}\n                  id=\"add-program-form\"\n                  encType=\"multipart/form-data\"\n                >\n                  {/* Form fields */}\n                  <div className=\"card-header\">\n                    <h4>Program details.</h4>\n                  </div>\n                  <div className=\"card-body\">\n                    <div className=\"form-group\">\n                      <label>Program Name</label>\n                      <input\n                        type=\"text\"\n                        className=\"form-control\"\n                        required\n                        name=\"name\"\n                        placeholder=\"Program Name*\"\n                      />\n                    </div>\n                    <div className=\"form-group mb-0\">\n                      <label>Details</label>\n                      <textarea\n                        className=\"form-control\"\n                        name=\"description\"\n                        placeholder=\"Program details...\"\n                      />\n                    </div>\n                    <div className=\"form-group\">\n                      <label>Program Points</label>\n                      <input\n                        type=\"text\"\n                        className=\"form-control\"\n                        required\n                        name=\"points\"\n                        placeholder=\"Program Points*\"\n                      />\n                    </div>\n                    <div className=\"form-group\">\n                      <label>Promotion Link</label>\n                      <input\n                        type=\"text\"\n                        className=\"form-control\"\n                        required\n                        name=\"promotionLink\"\n                        placeholder=\"Promotion Link*\"\n                      />\n                    </div>\n                    <div className=\"form-group\">\n                      <label>Program image</label>\n                      <div className=\"form-group row mb-4\">\n                        <div className=\"col-sm-4 col-md-4\">\n                          <div id=\"image-preview\" className=\"image-preview\">\n                            <label htmlFor=\"image-upload\" id=\"image-label\">\n                              {this.state.images ? (\n                                <img\n                                  src={this.state.images}\n                                  alt=\"Preview\"\n                                  style={{\n                                    maxWidth: \"100%\",\n                                    maxHeight: \"100%\",\n                                  }}\n                                />\n                              ) : (\n                                \"Choose File\"\n                              )}\n                            </label>\n                            <input\n                              type=\"file\"\n                              name=\"image1\"\n                              id=\"image-upload\"\n                              onChange={(e) => this.handleImagePreview(e, 1)}\n                            />\n                          </div>\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                  <div className=\"card-footer text-right\">\n                    <button\n                      disabled={this.state.btnloading}\n                      className=\"btn btn-primary\"\n                      type=\"submit\"\n                    >\n                      Submit\n                    </button>\n                  </div>\n                </form>\n              </div>\n            </div>\n          </div>\n        </section>\n      </div>\n    );\n  }\n}\n\nexport default AddProgram;\n"],"names":["AddProgram","_React$Component","_inherits","_super","_createSuper","props","_this","_classCallCheck","call","showNotification","message","type","setState","notification","setTimeout","resetFields","document","getElementById","reset","handleSubmit","event","preventDefault","btnloading","console","log","state","imageFile","toast","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","className","name","target","elements","value","points","description","promotionLink","formData","FormData","append","fetch","GetLink","method","body","then","response","json","data","setCurrclickFunc","error","catch","handleImagePreview","imageNumber","reader","FileReader","file","files","prevState","onloadend","imagePreview","result","images","readAsDataURL","_createClass","key","_this2","_jsxs","children","_jsx","ToastContainer","onSubmit","this","id","encType","required","placeholder","htmlFor","src","alt","style","maxWidth","maxHeight","onChange","e","disabled","React"],"sourceRoot":""}