{"version":3,"file":"static/js/594.b904fd9a.chunk.js","mappings":"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","sources":["component/adminPanel/PostTemp.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport \"./css/PostTemp.css\"; // Import your CSS file\nimport { ToastContainer, toast } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport GetLink from \"../apiLink\";\n\nexport default function PostTemp() {\n  const [templateText, setTemplateText] = useState(\"\");\n  const [programs, setPrograms] = useState([]);\n  const [selectedProgramId, setSelectedProgramId] = useState(\"\");\n  const [buttonDisable, setButtonDisable] = useState(false);\n  const [templates, setTemplates] = useState([]); // State for existing templates\n\n  const example =\n    \"This was an incredible experience with {brand}, where the placeholder {brand} acts as a dynamic field. Users can personalize this field by adding the brand name themselves.\";\n\n  useEffect(() => {\n    fetchPrograms();\n    fetchTemplates(); // Fetch existing templates when the component mounts\n  }, []);\n\n  const fetchPrograms = async () => {\n    try {\n      const response = await fetch(GetLink() + \"/getAllProgramsId\");\n      if (response.ok) {\n        const data = await response.json();\n        setPrograms(data);\n      }\n    } catch (error) {\n      console.error(\"Error fetching programs:\", error);\n    }\n  };\n\n  const fetchTemplates = async () => {\n    try {\n      const response = await fetch(GetLink() + \"/api/getAllTemplatesforadmin\");\n      if (response.ok) {\n        const data = await response.json();\n        console.log(data);\n        setTemplates(data);\n      }\n    } catch (error) {\n      console.error(\"Error fetching templates:\", error);\n    }\n  };\n\n  const handleTemplateChange = (e) => {\n    setTemplateText(e.target.value);\n  };\n\n  const handleProgramChange = (e) => {\n    setSelectedProgramId(e.target.value);\n  };\n\n  const addPost = async () => {\n    if (selectedProgramId === \"\") {\n      toast.error(\"Select a program\");\n      return;\n    }\n    if (templateText === \"\") {\n      toast.error(\"Fill the template text\");\n      return;\n    }\n\n    setButtonDisable(true);\n    try {\n      const response = await fetch(GetLink() + \"/api/addTemplate\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify({\n          templateText: templateText,\n          programId: selectedProgramId,\n        }),\n      });\n\n      if (response.ok) {\n        toast.success(\"Template added successfully\");\n        setTemplateText(\"\");\n        setSelectedProgramId(\"\");\n        setButtonDisable(false);\n        fetchTemplates(); // Fetch templates again after adding\n      } else {\n        toast.error(\"Network error, refresh and try again\");\n      }\n    } catch (error) {\n      console.error(\"Error adding template:\", error);\n    }\n  };\n\n  const deleteTemplate = async (templateId) => {\n    console.log(templateId);\n    setButtonDisable(true);\n    try {\n      const response = await fetch(\n        `${GetLink()}/api/deleteTemp/${templateId}`,\n        {\n          method: \"DELETE\",\n        }\n      );\n\n      if (response.ok) {\n        console.log(\"Template deleted successfully\");\n        setButtonDisable(false);\n        fetchTemplates(); // Fetch templates again after deleting\n      } else {\n        toast.error(\"Network error, refresh and try again\");\n        setButtonDisable(false);\n      }\n    } catch (error) {\n      console.error(\"Error deleting template:\", error);\n      setButtonDisable(false);\n    }\n  };\n\n  return (\n    <div className=\"main-content\">\n      <ToastContainer></ToastContainer>\n      <div className=\"card card2\">\n        <h2>Create Post Template</h2>\n        <select\n          className=\"program-dropdown\"\n          value={selectedProgramId}\n          onChange={handleProgramChange}\n        >\n          <option value=\"\">Select a program</option>\n          {programs.map((program) => (\n            <option key={program.id} value={program.id}>\n              {program.name}\n            </option>\n          ))}\n        </select>\n        <textarea\n          rows=\"17\"\n          cols=\"50\"\n          className=\"template-textarea\"\n          placeholder=\"Enter your post template here...\"\n          value={templateText}\n          onChange={handleTemplateChange}\n        ></textarea>\n        <button\n          className={`add-button ${buttonDisable ? \"disabled\" : \"\"}`}\n          onClick={addPost}\n          disabled={buttonDisable}\n        >\n          {buttonDisable ? \"Adding\" : \"Add\"}\n        </button>\n        {example && (\n          <div className=\"example-post\">\n            <strong>Example Post:</strong>\n            <p>{example}</p>\n          </div>\n        )}\n\n        {/* Display existing templates and provide delete button */}\n        <div className=\"existing-templates\">\n          <h3 className=\"template-heading\">Existing Templates</h3>\n          <ul className=\"template-list\">\n            {templates.map((template) => (\n              <li\n                key={template.id}\n                className=\"template-item\"\n                style={{ whiteSpace: \"pre-line\" }}\n              >\n                {template.templateText}\n                <button\n                  className={`delete-button ${buttonDisable ? \"disabled\" : \"\"}`}\n                  onClick={() => deleteTemplate(template.id)}\n                  disabled={buttonDisable}\n                >\n                  Delete\n                </button>\n              </li>\n            ))}\n          </ul>\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":["PostTemp","_useState","useState","_useState2","_slicedToArray","templateText","setTemplateText","_useState3","_useState4","programs","setPrograms","_useState5","_useState6","selectedProgramId","setSelectedProgramId","_useState7","_useState8","buttonDisable","setButtonDisable","_useState9","_useState10","templates","setTemplates","example","useEffect","fetchPrograms","fetchTemplates","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","data","wrap","_context","prev","next","fetch","GetLink","sent","ok","json","t0","console","error","stop","apply","arguments","_ref2","_callee2","_context2","log","addPost","_ref3","_callee3","_context3","toast","abrupt","method","headers","body","JSON","stringify","programId","success","deleteTemplate","_ref4","_callee4","templateId","_context4","concat","_x","_jsxs","className","children","_jsx","ToastContainer","value","onChange","e","target","map","program","id","name","rows","cols","placeholder","onClick","disabled","template","style","whiteSpace"],"sourceRoot":""}