{"version":3,"file":"static/js/646.ba627e15.chunk.js","mappings":"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","sources":["component/adminPanel/LeadBoadNew.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport ContentLoaderCompo from \"../contentloader\";\nimport GetLink from \"../apiLink\";\n\nconst LeadBoardNew = ({ id }) => {\n  const [programDetails, setProgramDetails] = useState([]);\n  const [searchValue, setSearchValue] = useState(\"\");\n  const [currentMonth, setCurrentMonth] = useState(\"\");\n  const [currentUser, setCurrentUser] = useState(null);\n  const [topPoint, setTopPoint] = useState(\"\");\n  const [currentPage, setCurrentPage] = useState(1);\n  const [programsPerPage] = useState(10);\n  const [originalProgramDetails, setOriginalProgramDetails] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const userId = id;\n  const [apiCall, setApiCall] = useState(GetLink() + \"/getAllPoints\");\n\n  const handleApiCallChange = (event) => {\n    const selectedOption = event.target.value;\n    if (selectedOption === GetLink() + \"/getAllPoints\") {\n      setApiCall(GetLink() + \"/getAllPoints\");\n    } else if (selectedOption === GetLink() + \"/getAllPoints23\") {\n      setApiCall(GetLink() + \"/getAllPoints23\");\n    } else if (selectedOption === GetLink() + \"/globalRankMonthly\") {\n      setApiCall(GetLink() + \"/globalRankMonthly\");\n    } else if (selectedOption === GetLink() + \"/globalRankLastMonthly\") {\n      setApiCall(GetLink() + \"/globalRankLastMonthly\");\n    }\n  };\n\n  useEffect(() => {\n    const fetchProgramDetails = async () => {\n      try {\n        let userid = userId;\n        const response = await fetch(apiCall);\n        if (response.ok) {\n          const data = await response.json();\n          console.log(data);\n          if (\n            apiCall.includes(\"globalRankMonthly\") ||\n            apiCall.includes(\"globalRankLastMonthly\")\n          ) {\n            setCurrentMonth(data.month + \" \" + data.year);\n            setProgramDetails(data.rankings);\n            setOriginalProgramDetails(data.rankings);\n          } else {\n            setCurrentMonth(data.year);\n            setProgramDetails(data);\n            setOriginalProgramDetails(data);\n          }\n\n          console.log(data);\n\n          // let rank = 0;\n          // const matchedProgram = data.find((program) => {\n          //   rank++;\n          //   return program._id === userid;\n          // });\n          // setTopPoint(data[0].totalPoints);\n          // if (matchedProgram === undefined) {\n          //   setCurrentUser({ rank: rank, points: 0 });\n          // } else\n          //   setCurrentUser({ rank: rank, points: matchedProgram.totalPoints });\n          setLoading(false);\n        } else {\n          console.error(\"Error fetching program details:\", response.status);\n        }\n      } catch (error) {\n        console.error(\"Error fetching program details:\", error);\n      }\n    };\n    fetchProgramDetails();\n  }, [apiCall, userId]);\n\n  const handlePageChange = (pageNumber) => {\n    setCurrentPage(pageNumber);\n  };\n  const handlePrevPage = () => {\n    if (currentPage > 1) {\n      setCurrentPage(currentPage - 1);\n    }\n  };\n  const handleNextPage = () => {\n    if (currentPage < Math.ceil(programDetails.length / programsPerPage)) {\n      setCurrentPage(currentPage + 1);\n    }\n  };\n  const handleSearchChange = (e) => {\n    setSearchValue(e.target.value);\n    setCurrentPage(1);\n    if (e.target.value === \"\") {\n      setProgramDetails(originalProgramDetails);\n    } else {\n      const filteredPrograms = originalProgramDetails.filter(\n        (program) =>\n          program.firstName\n            .toLowerCase()\n            .includes(e.target.value.toLowerCase()) ||\n          program.lastName.toLowerCase().includes(e.target.value.toLowerCase())\n      );\n      setProgramDetails(filteredPrograms);\n    }\n  };\n  // Pagination\n  const indexOfLastProgram = currentPage * programsPerPage;\n  const indexOfFirstProgram = indexOfLastProgram - programsPerPage;\n  const currentPrograms = programDetails.slice(\n    indexOfFirstProgram,\n    indexOfLastProgram\n  );\n  const pageNumbers = Math.ceil(programDetails.length / programsPerPage);\n\n  return (\n    <div className=\"main-content\">\n      {loading ? (\n        <ContentLoaderCompo></ContentLoaderCompo>\n      ) : (\n        <section className=\"section\">\n          <div className=\"section-body\">\n            <div className=\"row\">\n              <div className=\"col-12\">\n                <div className=\"card\">\n                  <div className=\"card-body\">\n                    <div className=\"table-responsive\">\n                      <div className=\"mb-3 tablesearch searcandtotal\">\n                        <select\n                          style={{\n                            padding: \"6px\",\n                            border: \"1px solid #ccc\",\n                            borderRadius: \"5px\",\n                            fontSize: \"16px\",\n                            width: \"300px\",\n                          }}\n                          value={apiCall}\n                          onChange={handleApiCallChange}\n                        >\n                          <option value={GetLink() + \"/getAllPoints23\"}>\n                            Ranking for 2023\n                          </option>\n                          <option value={GetLink() + \"/getAllPoints\"}>\n                            Ranking for 2024\n                          </option>\n                          <option value={GetLink() + \"/globalRankMonthly\"}>\n                            Ranking for Current Month\n                          </option>\n                          <option value={GetLink() + \"/globalRankLastMonthly\"}>\n                            Ranking for Last month\n                          </option>\n                        </select>\n                        <input\n                          type=\"text\"\n                          placeholder=\"Search by name\"\n                          value={searchValue}\n                          onChange={handleSearchChange}\n                          style={{\n                            padding: \"6px\",\n                            border: \"1px solid #ccc\",\n                            borderRadius: \"5px\",\n                            fontSize: \"16px\",\n                            width: \"300px\",\n                          }}\n                        />\n                      </div>\n                      <table\n                        className=\"table table-striped dataTable no-footer\"\n                        id=\"table-1\"\n                        role=\"grid\"\n                        aria-describedby=\"table-1_info\"\n                      >\n                        <thead>\n                          <tr role=\"row\">\n                            <th\n                              className=\"text-center sorting_asc\"\n                              tabIndex=\"0\"\n                              aria-controls=\"table-1\"\n                              rowSpan=\"1\"\n                              colSpan=\"1\"\n                              aria-sort=\"ascending\"\n                              aria-label=\"#: activate to sort column descending\"\n                            >\n                              #\n                            </th>\n                            <th\n                              className=\"sorting\"\n                              tabIndex=\"0\"\n                              aria-controls=\"table-1\"\n                              rowSpan=\"1\"\n                              colSpan=\"1\"\n                              aria-label=\"Task Name: activate to sort column ascending\"\n                            >\n                              Name\n                            </th>\n                            <th\n                              className=\"sorting_disabled\"\n                              rowSpan=\"1\"\n                              colSpan=\"1\"\n                              aria-label=\"Members\"\n                            >\n                              Points\n                            </th>\n                          </tr>\n                        </thead>\n                        <tbody>\n                          {currentPrograms.map((program, index) => {\n                            const isMatch = program._id === userId; // Assuming `userId` is the user's I\n                            return (\n                              <tr\n                                key={program._id}\n                                role=\"row\"\n                                className={`${\n                                  index % 2 === 0 ? \"even\" : \"odd\"\n                                } ${isMatch ? \"matched\" : \"\"}`}\n                              >\n                                <td className=\"sorting_1\">\n                                  {/* {indexOfFirstProgram + index + 1} */}\n                                  {indexOfFirstProgram + index + 1 === 1\n                                    ? \" ðŸ¥‡\"\n                                    : indexOfFirstProgram + index + 1 === 2\n                                    ? \" ðŸ¥ˆ\"\n                                    : indexOfFirstProgram + index + 1 === 3\n                                    ? \"  ðŸ¥‰\"\n                                    : indexOfFirstProgram + index + 1}\n                                </td>\n                                <td>\n                                  {program.firstName + \" \" + program.lastName}\n                                </td>\n                                <td>{program.totalPoints}</td>\n                              </tr>\n                            );\n                          })}\n                        </tbody>\n                      </table>\n                    </div>\n                    <div className=\"paginationclass\">\n                      <ul className=\"pagination\">\n                        <li\n                          className={`page-item ${\n                            currentPage === 1 ? \"disabled\" : \"\"\n                          }`}\n                        >\n                          <button\n                            className=\"page-link\"\n                            onClick={handlePrevPage}\n                          >\n                            Previous\n                          </button>\n                        </li>\n                        {Array.from(\n                          { length: Math.min(3, pageNumbers) },\n                          (_, i) => i + 1\n                        ).map((number) =>\n                          currentPage + number - 1 <= pageNumbers ? (\n                            <li\n                              key={number}\n                              className={`page-item ${\n                                currentPage === currentPage + number - 1\n                                  ? \"active\"\n                                  : \"\"\n                              }`}\n                            >\n                              <button\n                                className=\"page-link\"\n                                onClick={() =>\n                                  handlePageChange(currentPage + number - 1)\n                                }\n                              >\n                                {currentPage + number - 1 <= pageNumbers\n                                  ? currentPage + number - 1\n                                  : \"\"}\n                              </button>\n                            </li>\n                          ) : (\n                            \"\"\n                          )\n                        )}\n                        <li\n                          className={`page-item ${\n                            currentPage === pageNumbers ? \"disabled\" : \"\"\n                          }`}\n                        >\n                          <button\n                            className=\"page-link\"\n                            onClick={handleNextPage}\n                          >\n                            Next\n                          </button>\n                        </li>\n                      </ul>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </section>\n      )}\n    </div>\n  );\n};\n\nexport default LeadBoardNew;\n"],"names":["_ref","id","_useState","useState","_useState2","_slicedToArray","programDetails","setProgramDetails","_useState3","_useState4","searchValue","setSearchValue","_useState5","_useState6","setCurrentMonth","_useState7","_useState8","_useState9","_useState10","_useState11","_useState12","currentPage","setCurrentPage","_useState13","programsPerPage","_useState15","_useState16","originalProgramDetails","setOriginalProgramDetails","_useState17","_useState18","loading","setLoading","userId","_useState19","GetLink","_useState20","apiCall","setApiCall","useEffect","fetchProgramDetails","_ref2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","data","wrap","_context","prev","next","fetch","sent","ok","json","console","log","includes","month","year","rankings","error","status","t0","stop","apply","arguments","indexOfLastProgram","indexOfFirstProgram","currentPrograms","slice","pageNumbers","Math","ceil","length","_jsx","className","children","ContentLoaderCompo","_jsxs","style","padding","border","borderRadius","fontSize","width","value","onChange","event","selectedOption","target","type","placeholder","e","filteredPrograms","filter","program","firstName","toLowerCase","lastName","role","tabIndex","rowSpan","colSpan","map","index","isMatch","_id","concat","totalPoints","onClick","Array","from","min","_","i","number"],"sourceRoot":""}