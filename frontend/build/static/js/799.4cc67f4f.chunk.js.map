{"version":3,"file":"static/js/799.4cc67f4f.chunk.js","mappings":"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","sources":["component/adminPanel/rewards.js"],"sourcesContent":["import React, { Component } from \"react\";\nimport ContentLoaderCompo from \"../contentloader\";\nimport GetLink from \"../apiLink\";\nimport { ToastContainer, toast } from \"react-toastify\";\n\nclass RewardsSection extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      rewards: [],\n      loading: true,\n      newRewardType: \"\",\n      newRewardGift: \"\",\n      newRewardImage: null,\n      btnloading: false,\n    };\n  }\n\n  componentDidMount() {\n    // Fetch rewards data from the backend\n    fetch(GetLink() + \"/rewards\")\n      .then((response) => response.json())\n      .then((data) => {\n        data = data.sort((a, b) => a.rewardType - b.rewardType);\n        this.setState({\n          rewards: data,\n          loading: false,\n        });\n      })\n      .catch((error) => {\n        console.error(\"Error fetching rewards:\", error);\n      });\n  }\n\n  handleDeleteClick(id) {\n    this.setState({ btnloading: true });\n    // Make request to delete reward\n    fetch(`${GetLink()}/deleteReward/${id}`, {\n      method: \"DELETE\", // Change to the appropriate HTTP method for your backend\n    })\n      .then((response) => response.json())\n      .then((data) => {\n        this.setState({ btnloading: false });\n        if (data) {\n          toast.success(data.message);\n          // Update state to remove the deleted reward\n          this.setState((prevState) => ({\n            rewards: prevState.rewards.filter(\n              (reward) => reward.rewardId !== id\n            ),\n          }));\n        }\n      })\n      .catch((error) => {\n        this.setState({ btnloading: false });\n        console.error(\"Error deleting reward:\", error);\n      });\n  }\n\n  handleAddClick() {\n    this.setState({ btnloading: true });\n    const { newRewardType, newRewardGift, newRewardImage } = this.state;\n\n    const formData = new FormData();\n    formData.append(\"rewardType\", newRewardType);\n    formData.append(\"rewardGift\", newRewardGift);\n    if (newRewardImage) {\n      formData.append(\"image\", newRewardImage);\n    }\n\n    fetch(`${GetLink()}/addReward`, {\n      method: \"POST\",\n      body: formData,\n    })\n      .then((response) => response.json())\n      .then((data) => {\n        this.setState({ btnloading: false });\n        if (data) {\n          this.setState({\n            newRewardType: \"\",\n            newRewardGift: \"\",\n            newRewardImage: null,\n          });\n          toast.success(data.message);\n          fetch(GetLink() + \"/rewards\")\n            .then((response) => response.json())\n            .then((data) => {\n              data = data.sort((a, b) => a.rewardType - b.rewardType);\n              this.setState({\n                rewards: data,\n                loading: false,\n              });\n            })\n            .catch((error) => {\n              console.error(\"Error fetching rewards:\", error);\n            });\n        }\n      })\n      .catch((error) => {\n        this.setState({ btnloading: false });\n        console.error(\"Error adding reward:\", error);\n      });\n  }\n  render() {\n    const { rewards, loading, newRewardType, newRewardGift } = this.state;\n\n    return (\n      <div className=\"main-content\">\n        {loading && <ContentLoaderCompo></ContentLoaderCompo>}\n        <ToastContainer></ToastContainer>\n        <div className=\"row\">\n          <div className=\"col-lg-12\">\n            <div className=\"card\">\n              <div className=\"card-body\">\n                <div className=\"text-white\">\n                  <h4 className=\"mb-0 font-24\">Rewards</h4>\n                  <div style={{ display: \"flex\" }}>\n                    <div>\n                      <input\n                        style={{ margin: \"10px\", padding: \"2px 10px\" }}\n                        type=\"text\"\n                        placeholder=\"Points\"\n                        value={newRewardType}\n                        onChange={(e) => {\n                          const inputText = e.target.value;\n                          const numericInput = inputText.replace(/[^0-9]/g, \"\"); // Allow only numbers\n                          this.setState({ newRewardType: numericInput });\n                        }}\n                      />\n                    </div>\n                    <div>\n                      <input\n                        style={{\n                          margin: \"10px\",\n                          padding: \"2px 10px\",\n                          width: \"350px\",\n                        }}\n                        type=\"text\"\n                        placeholder=\"Reward Gift\"\n                        value={newRewardGift}\n                        onChange={(e) =>\n                          this.setState({ newRewardGift: e.target.value })\n                        }\n                      />\n                    </div>\n                    <div style={{ width: \"110px\" }}>\n                      <input\n                        style={{ margin: \"10px\", padding: \"1px 1px\" }}\n                        type=\"file\"\n                        name=\"rewardImage\"\n                        accept=\"image/*\"\n                        onChange={(e) => {\n                          const selectedFile = e.target.files[0];\n                          this.setState({\n                            newRewardImage: selectedFile,\n                            selectedFileName: selectedFile.name,\n                          });\n                        }}\n                        placeholder=\"choose image\"\n                      />\n                    </div>\n                    <p style={{ margin: \"10px\", padding: \"5px 1px\" }}>\n                      {this.state.selectedFileName}\n                    </p>\n                    <button\n                      onClick={() => this.handleAddClick()}\n                      className=\"add-button1\"\n                      style={{\n                        width: \"120px\",\n                        margin: \"10px\",\n                        padding: \"1px 1px\",\n                      }}\n                    >\n                      Add Reward\n                    </button>\n                  </div>\n                  <table\n                    className=\"table table-striped dataTable no-footer\"\n                    id=\"table-1\"\n                    role=\"grid\"\n                    aria-describedby=\"table-1_info\"\n                  >\n                    <thead>\n                      <tr>\n                        <th>Points</th>\n                        <th>Reward</th>\n                        <th>Image</th>\n                        <th>Action</th>\n                      </tr>\n                    </thead>\n                    <tbody>\n                      {rewards.map((reward) => (\n                        <tr key={reward.id}>\n                          <td>{reward.rewardType}</td>\n                          <td>{reward.rewardGift}</td>\n                          <td>\n                            <img\n                              src={GetLink() + \"/\" + reward.image}\n                              width={50}\n                              height={50}\n                            />\n                          </td>\n                          <td>\n                            <button\n                              disabled={this.state.btnloading}\n                              className=\"btn btn-danger\"\n                              onClick={() =>\n                                this.handleDeleteClick(reward.rewardId)\n                              }\n                            >\n                              Delete\n                            </button>\n                          </td>\n                        </tr>\n                      ))}\n                    </tbody>\n                  </table>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default RewardsSection;\n"],"names":["RewardsSection","_Component","_inherits","_super","_createSuper","props","_this","_classCallCheck","call","state","rewards","loading","newRewardType","newRewardGift","newRewardImage","btnloading","_createClass","key","value","_this2","fetch","GetLink","then","response","json","data","sort","a","b","rewardType","setState","catch","error","console","id","_this3","this","concat","method","toast","success","message","prevState","filter","reward","rewardId","_this4","_this$state","formData","FormData","append","body","_this5","_this$state2","_jsxs","className","children","_jsx","ContentLoaderCompo","ToastContainer","style","display","margin","padding","type","placeholder","onChange","e","numericInput","target","replace","width","name","accept","selectedFile","files","selectedFileName","onClick","handleAddClick","role","map","rewardGift","src","image","height","disabled","handleDeleteClick","Component"],"sourceRoot":""}