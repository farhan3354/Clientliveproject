"use strict";(self.webpackChunkmba=self.webpackChunkmba||[]).push([[374],{1374:function(e,a,s){s.r(a);var r=s(3),n=s(1413),o=s(9439),t=s(2791),i=s(7689),l=s(1087),c=s(1243),d=s(2719),m=s.n(d),h=s(184);a.default=function(e){e.onLogin;var a=(0,i.s0)(),s=(0,t.useState)(!1),d=(0,o.Z)(s,2),u=d[0],p=d[1],x=(0,t.useState)({email:localStorage.getItem("email"),password:localStorage.getItem("password")}),f=(0,o.Z)(x,2),g=f[0],v=f[1];c.Z.get(m()()+"/api/check-session",{withCredentials:!0}).then((function(e){var s=e.data;s.isLoggedIn&&("admin"===s.role?a("/admindashboard"):"mba"===s.role&&a("/mba"))})).catch((function(e){console.error("Error:",e)}));var b=(0,t.useState)(""),j=(0,o.Z)(b,2),w=j[0],N=j[1],S=function(e){var a=e.target,s=a.name,o=a.value;localStorage.setItem(s,o),v((function(e){return(0,n.Z)((0,n.Z)({},e),{},(0,r.Z)({},s,o))}))};return(0,h.jsx)("div",{id:"app",children:(0,h.jsx)("section",{className:"section",children:(0,h.jsx)("div",{className:"container mt-5",children:(0,h.jsx)("div",{className:"row",children:(0,h.jsx)("div",{className:"col-12 col-sm-10 offset-sm-1 col-md-8 offset-md-2 col-lg-8 offset-lg-2 col-xl-6 offset-xl-3",children:(0,h.jsxs)("div",{className:"card card-primary",children:[(0,h.jsx)("div",{className:"card-header",children:(0,h.jsx)("h4",{children:"Sign In"})}),(0,h.jsxs)("div",{className:"card-body",children:[(0,h.jsxs)("form",{onSubmit:function(e){e.preventDefault(),p(!0),c.Z.post(m()()+"/signin",g,{headers:{"Content-Type":"application/json"},withCredentials:!0}).then((function(e){var s=e.data;"admin"===s.role?a("/admindashboard"):"mba"===s.role?a("/mba"):(N("Invalid email or password"),p(!1))})).catch((function(e){console.error("Error:",e),N("Invalid email or password"),p(!1)}))},children:[(0,h.jsxs)("div",{className:"form-group",children:[(0,h.jsx)("label",{htmlFor:"email",children:"Email"}),(0,h.jsx)("input",{id:"email",type:"email",className:"form-control",name:"email",autoFocus:!0,onChange:S,value:g.email,required:!0})]}),(0,h.jsxs)("div",{className:"form-group",children:[(0,h.jsx)("label",{htmlFor:"password",children:"Password"}),(0,h.jsx)("input",{id:"password",type:"password",className:"form-control",name:"password",onChange:S,value:g.password,required:!0})]}),(0,h.jsx)("div",{className:"form-group",children:(0,h.jsx)("button",{disabled:u,type:"submit",className:"btn btn-primary btn-lg btn-block",children:u?"Signing in":"Sign In"})})]}),(0,h.jsx)("div",{style:{color:"red"},children:w})]}),(0,h.jsxs)("div",{className:"mb-4 text-muted text-center",children:["Don't have an account? ",(0,h.jsx)(l.rU,{to:"/register",children:"Register"})]}),(0,h.jsx)("div",{className:"mb-4 text-muted text-center",children:(0,h.jsx)(l.rU,{to:"/forgotpassword",children:"Forgot Password?"})})]})})})})})})}}}]);
//# sourceMappingURL=374.9a50fce5.chunk.js.map