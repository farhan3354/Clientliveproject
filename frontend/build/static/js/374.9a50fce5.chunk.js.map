{"version":3,"file":"static/js/374.9a50fce5.chunk.js","mappings":"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","sources":["component/signin.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport { useNavigate, Link } from \"react-router-dom\";\nimport axios from \"axios\";\nimport Getlink from \"./apiLink\";\nfunction SignInForm({ onLogin }) {\n  const navigate = useNavigate();\n  const [loadingLogin, setloadingLogin] = useState(false);\n  const [formData, setFormData] = useState({\n    email: localStorage.getItem(\"email\"),\n    password: localStorage.getItem(\"password\"),\n  });\n\n  // Function to check the user's session and role\n  const checkSession = () => {\n    axios\n      .get(Getlink() + \"/api/check-session\", {\n        withCredentials: true, // Include credentials in the request\n      })\n      .then((response) => {\n        const data = response.data;\n\n        if (data.isLoggedIn) {\n          if (data.role === \"admin\") navigate(\"/admindashboard\");\n          else if (data.role === \"mba\") navigate(`/mba`);\n        }\n      })\n      .catch((error) => {\n        console.error(\"Error:\", error);\n      });\n  };\n  checkSession();\n\n  const [error, seterror] = useState(\"\");\n\n  const handleChange = (e) => {\n    const { name, value } = e.target;\n    localStorage.setItem(name, value);\n    setFormData((prevState) => ({\n      ...prevState,\n      [name]: value,\n    }));\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    setloadingLogin(true);\n    axios\n      .post(Getlink() + \"/signin\", formData, {\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n        withCredentials: true, // Include credentials in the request\n      })\n      .then((response) => {\n        const data = response.data;\n        // Handle the response from the server\n        if (data.role === \"admin\") {\n          navigate(\"/admindashboard\");\n        } else if (data.role === \"mba\") {\n          navigate(`/mba`);\n        } else {\n          seterror(\"Invalid email or password\");\n          setloadingLogin(false);\n        }\n      })\n      .catch((error) => {\n        console.error(\"Error:\", error);\n        seterror(\"Invalid email or password\");\n        setloadingLogin(false);\n      });\n  };\n\n  return (\n    <div id=\"app\">\n      <section className=\"section\">\n        <div className=\"container mt-5\">\n          <div className=\"row\">\n            <div className=\"col-12 col-sm-10 offset-sm-1 col-md-8 offset-md-2 col-lg-8 offset-lg-2 col-xl-6 offset-xl-3\">\n              <div className=\"card card-primary\">\n                <div className=\"card-header\">\n                  <h4>Sign In</h4>\n                </div>\n                <div className=\"card-body\">\n                  <form onSubmit={handleSubmit}>\n                    <div className=\"form-group\">\n                      <label htmlFor=\"email\">Email</label>\n                      <input\n                        id=\"email\"\n                        type=\"email\"\n                        className=\"form-control\"\n                        name=\"email\"\n                        autoFocus\n                        onChange={handleChange}\n                        value={formData.email}\n                        required\n                      />\n                    </div>\n                    <div className=\"form-group\">\n                      <label htmlFor=\"password\">Password</label>\n                      <input\n                        id=\"password\"\n                        type=\"password\"\n                        className=\"form-control\"\n                        name=\"password\"\n                        onChange={handleChange}\n                        value={formData.password}\n                        required\n                      />\n                    </div>\n                    <div className=\"form-group\">\n                      <button\n                        disabled={loadingLogin}\n                        type=\"submit\"\n                        className=\"btn btn-primary btn-lg btn-block\"\n                      >\n                        {loadingLogin ? \"Signing in\" : \"Sign In\"}\n                      </button>\n                    </div>\n                  </form>\n                  <div style={{ color: \"red\" }}>{error}</div>\n                </div>\n                <div className=\"mb-4 text-muted text-center\">\n                  Don't have an account? <Link to=\"/register\">Register</Link>\n                </div>\n                <div className=\"mb-4 text-muted text-center\">\n                  <Link to=\"/forgotpassword\">Forgot Password?</Link>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </section>\n    </div>\n  );\n}\n\nexport default SignInForm;\n"],"names":["_ref","onLogin","navigate","useNavigate","_useState","useState","_useState2","_slicedToArray","loadingLogin","setloadingLogin","_useState3","email","localStorage","getItem","password","_useState4","formData","setFormData","axios","get","Getlink","withCredentials","then","response","data","isLoggedIn","role","catch","error","console","_useState5","_useState6","seterror","handleChange","e","_e$target","target","name","value","setItem","prevState","_objectSpread","_defineProperty","_jsx","id","children","className","_jsxs","onSubmit","preventDefault","post","headers","htmlFor","type","autoFocus","onChange","required","disabled","style","color","Link","to"],"sourceRoot":""}