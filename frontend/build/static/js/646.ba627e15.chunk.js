"use strict";(self.webpackChunkmba=self.webpackChunkmba||[]).push([[646],{8646:function(e,a,t){t.r(a);var n=t(4165),s=t(5861),l=t(9439),r=t(2791),i=t(2959),o=t(2719),c=t.n(o),d=t(184);a.default=function(e){var a=e.id,t=(0,r.useState)([]),o=(0,l.Z)(t,2),u=o[0],h=o[1],x=(0,r.useState)(""),g=(0,l.Z)(x,2),m=g[0],p=g[1],b=(0,r.useState)(""),f=(0,l.Z)(b,2),v=(f[0],f[1]),j=(0,r.useState)(null),k=(0,l.Z)(j,2),N=(k[0],k[1],(0,r.useState)("")),y=(0,l.Z)(N,2),S=(y[0],y[1],(0,r.useState)(1)),w=(0,l.Z)(S,2),R=w[0],M=w[1],Z=(0,r.useState)(10),C=(0,l.Z)(Z,1)[0],P=(0,r.useState)([]),L=(0,l.Z)(P,2),A=L[0],_=L[1],E=(0,r.useState)(!0),z=(0,l.Z)(E,2),I=z[0],T=z[1],q=a,B=(0,r.useState)(c()()+"/getAllPoints"),D=(0,l.Z)(B,2),F=D[0],G=D[1];(0,r.useEffect)((function(){var e=function(){var e=(0,s.Z)((0,n.Z)().mark((function e(){var a,t;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,q,e.next=4,fetch(F);case 4:if(!(a=e.sent).ok){e.next=15;break}return e.next=8,a.json();case 8:t=e.sent,console.log(t),F.includes("globalRankMonthly")||F.includes("globalRankLastMonthly")?(v(t.month+" "+t.year),h(t.rankings),_(t.rankings)):(v(t.year),h(t),_(t)),console.log(t),T(!1),e.next=16;break;case 15:console.error("Error fetching program details:",a.status);case 16:e.next=21;break;case 18:e.prev=18,e.t0=e.catch(0),console.error("Error fetching program details:",e.t0);case 21:case"end":return e.stop()}}),e,null,[[0,18]])})));return function(){return e.apply(this,arguments)}}();e()}),[F,q]);var H=R*C,J=H-C,K=u.slice(J,H),O=Math.ceil(u.length/C);return(0,d.jsx)("div",{className:"main-content",children:I?(0,d.jsx)(i.default,{}):(0,d.jsx)("section",{className:"section",children:(0,d.jsx)("div",{className:"section-body",children:(0,d.jsx)("div",{className:"row",children:(0,d.jsx)("div",{className:"col-12",children:(0,d.jsx)("div",{className:"card",children:(0,d.jsxs)("div",{className:"card-body",children:[(0,d.jsxs)("div",{className:"table-responsive",children:[(0,d.jsxs)("div",{className:"mb-3 tablesearch searcandtotal",children:[(0,d.jsxs)("select",{style:{padding:"6px",border:"1px solid #ccc",borderRadius:"5px",fontSize:"16px",width:"300px"},value:F,onChange:function(e){var a=e.target.value;a===c()()+"/getAllPoints"?G(c()()+"/getAllPoints"):a===c()()+"/getAllPoints23"?G(c()()+"/getAllPoints23"):a===c()()+"/globalRankMonthly"?G(c()()+"/globalRankMonthly"):a===c()()+"/globalRankLastMonthly"&&G(c()()+"/globalRankLastMonthly")},children:[(0,d.jsx)("option",{value:c()()+"/getAllPoints23",children:"Ranking for 2023"}),(0,d.jsx)("option",{value:c()()+"/getAllPoints",children:"Ranking for 2024"}),(0,d.jsx)("option",{value:c()()+"/globalRankMonthly",children:"Ranking for Current Month"}),(0,d.jsx)("option",{value:c()()+"/globalRankLastMonthly",children:"Ranking for Last month"})]}),(0,d.jsx)("input",{type:"text",placeholder:"Search by name",value:m,onChange:function(e){if(p(e.target.value),M(1),""===e.target.value)h(A);else{var a=A.filter((function(a){return a.firstName.toLowerCase().includes(e.target.value.toLowerCase())||a.lastName.toLowerCase().includes(e.target.value.toLowerCase())}));h(a)}},style:{padding:"6px",border:"1px solid #ccc",borderRadius:"5px",fontSize:"16px",width:"300px"}})]}),(0,d.jsxs)("table",{className:"table table-striped dataTable no-footer",id:"table-1",role:"grid","aria-describedby":"table-1_info",children:[(0,d.jsx)("thead",{children:(0,d.jsxs)("tr",{role:"row",children:[(0,d.jsx)("th",{className:"text-center sorting_asc",tabIndex:"0","aria-controls":"table-1",rowSpan:"1",colSpan:"1","aria-sort":"ascending","aria-label":"#: activate to sort column descending",children:"#"}),(0,d.jsx)("th",{className:"sorting",tabIndex:"0","aria-controls":"table-1",rowSpan:"1",colSpan:"1","aria-label":"Task Name: activate to sort column ascending",children:"Name"}),(0,d.jsx)("th",{className:"sorting_disabled",rowSpan:"1",colSpan:"1","aria-label":"Members",children:"Points"})]})}),(0,d.jsx)("tbody",{children:K.map((function(e,a){var t=e._id===q;return(0,d.jsxs)("tr",{role:"row",className:"".concat(a%2===0?"even":"odd"," ").concat(t?"matched":""),children:[(0,d.jsx)("td",{className:"sorting_1",children:J+a+1===1?" \ud83e\udd47":J+a+1===2?" \ud83e\udd48":J+a+1===3?"  \ud83e\udd49":J+a+1}),(0,d.jsx)("td",{children:e.firstName+" "+e.lastName}),(0,d.jsx)("td",{children:e.totalPoints})]},e._id)}))})]})]}),(0,d.jsx)("div",{className:"paginationclass",children:(0,d.jsxs)("ul",{className:"pagination",children:[(0,d.jsx)("li",{className:"page-item ".concat(1===R?"disabled":""),children:(0,d.jsx)("button",{className:"page-link",onClick:function(){R>1&&M(R-1)},children:"Previous"})}),Array.from({length:Math.min(3,O)},(function(e,a){return a+1})).map((function(e){return R+e-1<=O?(0,d.jsx)("li",{className:"page-item ".concat(R===R+e-1?"active":""),children:(0,d.jsx)("button",{className:"page-link",onClick:function(){M(R+e-1)},children:R+e-1<=O?R+e-1:""})},e):""})),(0,d.jsx)("li",{className:"page-item ".concat(R===O?"disabled":""),children:(0,d.jsx)("button",{className:"page-link",onClick:function(){R<Math.ceil(u.length/C)&&M(R+1)},children:"Next"})})]})})]})})})})})})})}}}]);
//# sourceMappingURL=646.ba627e15.chunk.js.map