"use strict";(self.webpackChunkmba=self.webpackChunkmba||[]).push([[447],{6447:function(e,s,a){a.r(s);var r=a(3),o=a(1413),i=a(9439),n=a(2791),l=a(7689),t=a(1087),c=a(9085),d=(a(5462),a(1243)),m=a(2719),h=a.n(m),p=a(184);s.default=function(e){var s=e.onLogin,a=(0,l.s0)(),m=(0,n.useState)(!1),u=(0,i.Z)(m,2),f=u[0],g=u[1];d.Z.get(h()()+"/api/check-session",{withCredentials:!0}).then((function(e){var s=e.data;s.isLoggedIn&&("admin"===s.role?a("/admindashboard"):"mba"===s.role&&a("/mba"))})).catch((function(e){console.error("Error:",e)}));var x=(0,n.useState)({first_name:"",last_name:"",email:"",password:"",passwordConfirm:"",agree:!1}),j=(0,i.Z)(x,2),v=j[0],b=j[1],N=function(e){var s=e.target,a=s.name,i=s.value,n=s.type,l=s.checked;b((function(e){return(0,o.Z)((0,o.Z)({},e),{},(0,r.Z)({},a,"checkbox"===n?l:i))}))};return(0,p.jsxs)("div",{id:"app",children:[(0,p.jsx)(c.Ix,{}),(0,p.jsx)("section",{className:"section",children:(0,p.jsx)("div",{className:"container mt-5",children:(0,p.jsx)("div",{className:"row",children:(0,p.jsx)("div",{className:"col-12 col-sm-10 offset-sm-1 col-md-8 offset-md-2 col-lg-8 offset-lg-2 col-xl-8 offset-xl-2",children:(0,p.jsxs)("div",{className:"card card-primary",children:[(0,p.jsx)("div",{className:"card-header",children:(0,p.jsx)("h4",{children:"Register"})}),(0,p.jsx)("div",{className:"card-body",children:(0,p.jsxs)("form",{onSubmit:function(e){if(e.preventDefault(),g(!0),v.password!==v.passwordConfirm)return(0,c.Am)("Password-Confirm password are not same",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,className:"color_red"}),void g(!1);fetch(h()()+"/register/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(v)}).then((function(e){return e.json()})).then((function(e){if(console.log(e),e.message&&"Email already exists."===e.message)return(0,c.Am)("Email already exists! Try Signing in",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,className:"color_red"}),void g(!1);"admin"===e.role?(s(),localStorage.setItem("isLoggedIn","true"),localStorage.setItem("isAdmin","true"),localStorage.setItem("adminId",e._id),a("/admindashboard")):"mba"===e.role&&(s(),localStorage.setItem("isLoggedIn","true"),a("/mba")),g(!1)})).catch((function(e){g(!1),console.error("Error:",e)}))},children:[(0,p.jsxs)("div",{className:"row",children:[(0,p.jsxs)("div",{className:"form-group col-6",children:[(0,p.jsx)("label",{htmlFor:"first_name",children:"First Name"}),(0,p.jsx)("input",{id:"first_name",type:"text",className:"form-control",name:"first_name",autoFocus:!0,onChange:N,value:v.first_name})]}),(0,p.jsxs)("div",{className:"form-group col-6",children:[(0,p.jsx)("label",{htmlFor:"last_name",children:"Last Name"}),(0,p.jsx)("input",{id:"last_name",type:"text",className:"form-control",name:"last_name",onChange:N,value:v.last_name})]})]}),(0,p.jsxs)("div",{className:"form-group",children:[(0,p.jsx)("label",{htmlFor:"email",children:"Email"}),(0,p.jsx)("input",{id:"email",type:"email",className:"form-control",name:"email",onChange:N,value:v.email}),(0,p.jsx)("div",{className:"invalid-feedback"})]}),(0,p.jsxs)("div",{className:"row",children:[(0,p.jsxs)("div",{className:"form-group col-6",children:[(0,p.jsx)("label",{htmlFor:"password",className:"d-block",children:"Password"}),(0,p.jsx)("input",{id:"password",type:"password",className:"form-control pwstrength","data-indicator":"pwindicator",name:"password",onChange:N,value:v.password}),(0,p.jsxs)("div",{id:"pwindicator",className:"pwindicator",children:[(0,p.jsx)("div",{className:"bar"}),(0,p.jsx)("div",{className:"label"})]})]}),(0,p.jsxs)("div",{className:"form-group col-6",children:[(0,p.jsx)("label",{htmlFor:"password2",className:"d-block",children:"Password Confirmation"}),(0,p.jsx)("input",{id:"password2",type:"password",className:"form-control",name:"passwordConfirm",onChange:N,value:v.passwordConfirm})]})]}),(0,p.jsx)("div",{className:"form-group",children:(0,p.jsx)("button",{type:"submit",className:"btn btn-primary btn-lg btn-block",disabled:f,children:"Register"})})]})}),(0,p.jsxs)("div",{className:"mb-4 text-muted text-center",children:["Already Registered? ",(0,p.jsx)(t.rU,{to:"/signin",children:"Login"})]})]})})})})})]})}}}]);
//# sourceMappingURL=447.dd5c1a2a.chunk.js.map